{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://spiral-automation.com/schemas/security-compliance-section.json",
  "title": "Security & Compliance Section Schema",
  "description": "Schema for Security & Compliance section covering data protection, privacy, and regulatory requirements",
  "type": "object",
  "required": ["name", "tag", "description", "children"],
  "properties": {
    "name": {
      "type": "string",
      "const": "Security & Compliance",
      "description": "Must be 'Security & Compliance'"
    },
    "tag": {
      "type": "string",
      "const": "security-compliance",
      "description": "Must be 'security-compliance'"
    },
    "description": {
      "type": "string",
      "minLength": 25,
      "maxLength": 500,
      "description": "Overview of security measures, compliance standards, and data protection"
    },
    "children": {
      "type": "array",
      "minItems": 4,
      "maxItems": 12,
      "items": { "$ref": "#/definitions/security_child" }
    },
    "metadata": { "$ref": "#/definitions/metadata" }
  },
  "definitions": {
    "security_child": {
      "type": "object",
      "required": ["name", "description"],
      "properties": {
        "name": {
          "type": "string",
          "pattern": "^[A-Z][a-zA-Z0-9 \\-&]+$",
          "minLength": 8,
          "maxLength": 100,
          "examples": [
            "Data Encryption & Protection",
            "User Authentication & Access Control",
            "Compliance Certifications",
            "Privacy Policy & GDPR"
          ]
        },
        "description": {
          "type": "string",
          "minLength": 30,
          "maxLength": 2000,
          "description": "Security measures, compliance requirements, and protection mechanisms"
        },
        "bullet_points": {
          "type": "array",
          "minItems": 3,
          "maxItems": 12,
          "items": {
            "type": "string",
            "minLength": 15,
            "maxLength": 250,
            "description": "Security features, compliance standards, or protection measures"
          }
        },
        "security_category": {
          "type": "string",
          "enum": [
            "data_protection",
            "access_control",
            "authentication",
            "encryption",
            "compliance",
            "privacy",
            "audit",
            "monitoring"
          ],
          "description": "Category of security or compliance topic"
        },
        "compliance_standards": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "GDPR",
              "CCPA",
              "HIPAA",
              "SOC2",
              "ISO27001",
              "PCI-DSS",
              "SOX",
              "FERPA",
              "PIPEDA"
            ]
          },
          "description": "Applicable regulatory standards"
        },
        "security_level": {
          "type": "string",
          "enum": ["basic", "standard", "enhanced", "enterprise"],
          "description": "Level of security implementation"
        },
        "implementation_requirements": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["requirement", "description"],
            "properties": {
              "requirement": { "type": "string", "minLength": 5, "maxLength": 100 },
              "description": { "type": "string", "minLength": 15, "maxLength": 300 },
              "mandatory": { "type": "boolean" },
              "compliance_standard": { "type": "string", "maxLength": 50 }
            }
          }
        },
        "audit_features": {
          "type": "array",
          "items": {
            "type": "string",
            "examples": [
              "User activity logging",
              "Data access tracking",
              "Configuration change monitoring",
              "Security event alerting"
            ]
          }
        },
        "links": {
          "type": "array",
          "items": { "$ref": "#/definitions/link" }
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "security", "compliance", "privacy", "encryption", "authentication",
              "access-control", "audit", "gdpr", "hipaa", "soc2",
              "data-protection", "monitoring"
            ]
          }
        }
      }
    },
    "link": {
      "type": "object",
      "required": ["title", "url"],
      "properties": {
        "title": { "type": "string", "minLength": 5, "maxLength": 100 },
        "url": { "type": "string", "format": "uri" },
        "description": { "type": "string", "maxLength": 200 }
      }
    },
    "metadata": {
      "type": "object",
      "properties": {
        "version": { "type": "string", "pattern": "^\\d+\\.\\d+\\.\\d+$" },
        "last_updated": { "type": "string", "format": "date" },
        "author": { "type": "string", "maxLength": 100 },
        "priority": { "type": "string", "enum": ["high", "medium", "low"] },
        "target_audience": {
          "type": "array",
          "items": { "type": "string", "enum": ["administrators", "managers", "developers", "compliance-officers"] }
        }
      }
    }
  },
  "additionalProperties": false
}